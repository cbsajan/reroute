"""
{{ project_name }} - Flask Application

Generated by REROUTE
"""

from pathlib import Path
from flask import Flask
from reroute.adapters import FlaskAdapter
from config import AppConfig

# Load environment variables (secure explicit loading)
AppConfig.load_from_env()


# Create Flask app
app = Flask(__name__)

# Initialize REROUTE adapter (handles OpenAPI via Spectree automatically)
adapter = FlaskAdapter(
    flask_app=app,
    app_dir=Path(__file__).parent / "app",
    config=AppConfig
)

# Register all REROUTE routes
adapter.register_routes()


if __name__ == "__main__":
    # Run the REROUTE server
    adapter.run_server()
